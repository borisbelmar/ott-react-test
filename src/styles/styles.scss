@import url('https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap');
@import url('https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap');
@import url('https://fonts.googleapis.com/css?family=Arvo:400,700&display=swap');
@import url('https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap');
@import 'globals/reset';

$mediastream: hsl(78, 100%, 42%) !default;
$black: hsl(0, 0%, 4%) !default;
$white: hsl(0, 0%, 100%) !default;

$primary: $mediastream;

$primary-light-10: mix(white, $primary, 10%);
$primary-light-30: mix(white, $primary, 30%);
$primary-light-50: mix(white, $primary, 50%);
$primary-light-70: mix(white, $primary, 70%);
$primary-light-90: mix(white, $primary, 90%);
$primary-dark-10: mix(black, $primary, 10%);
$primary-dark-30: mix(black, $primary, 30%);
$primary-dark-50: mix(black, $primary, 50%);
$primary-dark-70: mix(black, $primary, 70%);
$primary-dark-90: mix(black, $primary, 90%);
$gray-5: mix(black, $white, 5%);
$gray-10: mix(black, $white, 10%);
$gray-30: mix(black, $white, 30%);
$gray-50: mix(black, $white, 50%);
$gray-70: mix(black, $white, 70%);
$gray-90: mix(black, $white, 90%);

$font-family: 'Poppins', sans-serif !default;
$base-size: 16px;

@mixin box-shadow($arguments) {
	-webkit-box-shadow: $arguments;
	-moz-box-shadow: $arguments;
	box-shadow: $arguments;
}

@function tint($hsl, $light) {
    @return mix(white, $hsl, $light);
}

@function shade($hsl, $light) {
    @return mix(black, $hsl, $light);
}

$themes: (
    (
        name: 'mediastream',
        primary: $mediastream,
        secondary: $mediastream,
        pFont: ('Poppins', sans-serif),
        hFont: ('Poppins', sans-serif) 
    ),
    (
        name: 'ice-green',
        primary: hsl(150, 50, 50),
        secondary: hsl(250, 90, 70),
        pFont: ('Verdana', sans-serif),
        hFont: ('Poppins', sans-serif) 
    ),
    (
        name: 'lava',
        primary: hsl(10, 70, 50),
        secondary: hsl(30, 70, 60),
        pFont: ('Helvetica', sans-serif),
        hFont: ('Times New Roman', serif) 
    ),
    (
        name: 'lavender',
        primary: hsl(280, 70, 70),
        secondary: hsl(150, 60, 70),
        pFont: ('Roboto', sans-serif),
        hFont: ('Montserrat', sans-serif) 
    ),
    (
        name: 'dust',
        primary: hsl(30, 60, 50),
        secondary: hsl(50, 60, 70),
        pFont: ('Roboto', sans-serif),
        hFont: ('Arvo', sans-serif) 
    )
);

@mixin themeBuilder($theme, $config) {
    $name: map-get($theme, 'name');
    .#{$name}-theme & {
        @each $key, $value in $config {
            #{$key}: map-get($theme, $value);
        }
    }
};

@mixin hasTheme($config) {
    @each $theme in $themes {
        @include themeBuilder($theme, $config);
    }
}

/* Implementaciones */

:root {
    font-family: $font-family;
    color: $gray-90;
    font-size: $base-size;
    background: $gray-5;
}

img {
    max-width: 100%;
}

.container {
    width: 100%;
    max-width: 500px;
    margin: auto;
    padding: 2rem 0;
}

.Card {
    border-radius: 0.5rem;
    background: $white;
    overflow: hidden;
    margin-bottom: 2rem;
}

.card {
    &-image {
        position: relative;
        z-index: 0;
        background-size: cover;
        background-position: center;
        height: 240px;
        &::before {
            height: 100%;
            width: 100%;
            position: absolute;
            background: linear-gradient(0deg, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 85%);;
            content: "";
        }
    }
    &-featured {
        position: absolute;
        top: 0;
        left: 0;
        padding: 0.75rem 1rem;
        @include hasTheme(
            (
                background-color: 'secondary'
            )
        );
    }
    &-time {
        position: absolute;
        top: 0;
        right: 0;
        padding: 0.75rem 1rem;
        background: fade-out($gray-90, 0.5);
        color: $gray-10;
    }
    &-content{
        padding: 1rem;
    }
    &-title {
        font-weight: 700;
        font-size: 1.5rem;
        line-height: 120%;
        margin-bottom: 0.25rem;
        @include hasTheme((color: 'primary', font-family: 'hFont'));
    }
    &-description {
        color: $gray-50;
        margin-bottom: 1rem;
        @include hasTheme(
            (
                font-family: 'pFont'
            )
        );
    }
    &-meta {
        display: flex;
        align-items: center;
        .rating {
            .star {
                width: 1.25rem;
                height: 1.25rem;
                display: inline-block;
                margin-right: 0.25rem;
                @include hasTheme((fill: 'primary'));
            }
        }
        .date {
            font-size: 0.9rem;
            color: $gray-50;
            display: inline-block;
        }
    }
}

h2 {
    margin-top: 3rem;
    font-size: 1.25rem;
    @include hasTheme(
        (
            color: 'primary'
        )
    );
}

input {
    padding: 0.5rem;
    border-radius: 0.25rem;
    border: 2px solid;
    margin: 1rem auto 3rem auto;
    font-size: 1.5rem;
    box-sizing: border-box;
    width: 100%;
    @include hasTheme(
        (
            border-color: 'primary'
        )
    );
    &:focus {
        outline: none;
        box-shadow: none;
    }
}